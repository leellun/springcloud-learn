# 老师入口
1 申请老师权限token
http://localhost:9000/api/uaa/oauth/token?client_id=c1&client_secret=secret&grant_type=password&username=kakaxi&password=123
2 带着token验证接口
http://localhost:9000/api/school/student/grade
http请求头（bearer的类型和jwt都是步骤一获取的）：
bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsicmVzMSJdLCJ1c2VyX25hbWUiOiJ7XCJmdWxsbmFtZVwiOlwi6bij5Lq6XCIsXCJpZFwiOjIsXCJwYXNzd29yZFwiOlwiJDJhJDEwJGlaVWR0WmFUTy9SVjFpbmdPdjVLSk9WMFVEWUJZRkJjNm5BTXNKRkVXT0ZkS1FnY1ouc2MyXCIsXCJ1c2VybmFtZVwiOlwibWluZ3JlblwifSIsInNjb3BlIjpbIlJPTEVfQURNSU4iLCJST0xFX1VTRVIiLCJST0xFX0FQSSJdLCJleHAiOjE2NjExNjY0MTIsImF1dGhvcml0aWVzIjpbInN0dWRlbnQiXSwianRpIjoiMWQyM2QzNWYtNTBiMy00MjU1LTk2MDktZjhmNDJlMDk3ZTgyIiwiY2xpZW50X2lkIjoiYzEifQ.8DP-xqc6JnPe-_NDjTABUrfsALJ8oqSs_fGPzrodxEI
# 学生入口
1 申请权限token
http://localhost:9000/api/uaa/oauth/token?client_id=c1&client_secret=secret&grant_type=password&username=mingren&password=123

2 后面是一样的

# 检查token
http://localhost:9000/api/uaa/oauth/check_token?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsicmVzMSJdLCJ1c2VyX25hbWUiOiJ7XCJmdWxsbmFtZVwiOlwi5Y2h5Y2h6KW_XCIsXCJpZFwiOjMsXCJwYXNzd29yZFwiOlwiJDJhJDEwJGlaVWR0WmFUTy9SVjFpbmdPdjVLSk9WMFVEWUJZRkJjNm5BTXNKRkVXT0ZkS1FnY1ouc2MyXCIsXCJ1c2VybmFtZVwiOlwia2FrYXhpXCJ9Iiwic2NvcGUiOlsiUk9MRV9BRE1JTiIsIlJPTEVfVVNFUiIsIlJPTEVfQVBJIl0sImV4cCI6MTY2MTE3MzQzMCwiYXV0aG9yaXRpZXMiOlsic3R1ZGVudCIsInRlYWNoZXIiXSwianRpIjoiODRkNThkOTItMzVhYi00NjhmLWI2NjEtZDY2NjYzZTI2YTBlIiwiY2xpZW50X2lkIjoiYzEifQ.MhvNIBBILo8lRSYERJCFZCCJGCSFKfv9bK9ZSp2dl9Y

# 刷新token
http://localhost:9000/api/uaa/oauth/token?client_id=c1&client_secret=secret&grant_type=refresh_token&refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsicmVzMSJdLCJ1c2VyX25hbWUiOiJ7XCJmdWxsbmFtZVwiOlwi5Y2h5Y2h6KW_XCIsXCJpZFwiOjMsXCJwYXNzd29yZFwiOlwiJDJhJDEwJGlaVWR0WmFUTy9SVjFpbmdPdjVLSk9WMFVEWUJZRkJjNm5BTXNKRkVXT0ZkS1FnY1ouc2MyXCIsXCJ1c2VybmFtZVwiOlwia2FrYXhpXCJ9Iiwic2NvcGUiOlsiUk9MRV9BRE1JTiIsIlJPTEVfVVNFUiIsIlJPTEVfQVBJIl0sImF0aSI6ImMzNmYyYTQ4LTFjYTItNDgzZC05ZGMzLWI3ZjQyNDZhZWJmMyIsImV4cCI6MTY5MzQ4NTM3MCwiYXV0aG9yaXRpZXMiOlsic3R1ZGVudCIsInRlYWNoZXIiXSwianRpIjoiZjljN2YzN2YtN2RmZS00NDlkLWE5ZjMtMTY0NzAwMzI1N2IyIiwiY2xpZW50X2lkIjoiYzEifQ.vHxVCpREqz1cPlCzvLwo8F7nBwZui35YQjMu7NBogbI



uua：权限认证服务
gateway：网关（通过GlobalFilter拦截请求进行鉴权，对uua请求放行，解析Authorization 为json-token）

Hystrix的THREAD和SEMAPHORE策略



/oauth/authorize:授权端点
/oauth/token:令牌端点
/oauth/confirm_access:用户确认授权提交端点
/oauth/error:授权服务错误信息端点
/oauth/check_token:用于资源访问的令牌解析端点
/oauth/token_key:提供公有密钥的端点,如果使用的JWT令牌的话